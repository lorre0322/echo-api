<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0"><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"><link rel="stylesheet" href="/style.css"><script src="/main.js"></script><title>Moment | Echo Api</title></head><body><div class="wrap"><h3>Moment</h3><div class="form"><label>update id: <input id="id" placeholder="id" type="text"></label><label>date: <input id="date" placeholder="date" type="text"></label><label>tag: <input id="tag" placeholder="tag" type="text"></label><label>moment: <textarea name="moment" id="cont" rows="6"></textarea></label></div><div id="po">submit</div></div><div id="list"></div><div class="me"><a href="/login.html">Login</a><a href="/moment.html">Moment</a><a href="/list-moment.html">MomentList</a><a href="/upload.html">Upload</a></div><div id="msg"></div><script>$("date").value=Date.parse(new Date) / 1e3; const getMoment=async e=>{ const a=await _req.get(`/moment/${e}`); if ("success"===a.msg){ msg.sc("Get moment success !"); const e=a.data; $("id").value=e._id, $("date").value=e.date, $("tag").value=e.tag, $("cont").value=e.body}}; $("id").onclick=async e=>{ navigator.clipboard.readText().then((async e=>{ $("id").value=e; getMoment($("id").value)}))}, $("id").oninput=async ()=>{ 24===$("id").value.length && getMoment($("id").value)}, $("po").onclick=async ()=>{ let e={ id: $("id").value, date: $("date").value, tag: $("tag").value || "daily", body: $("cont").value, token: localStorage.getItem("e-token")}, a={}; a=$("id").value ? await _req.put("/moment", e) : await _req.post("/moment", e), "success"===a.msg ? (msg.sc("Post success !"), getMoment(a.data._id)) : msg.er(a.reason || "Post failed !")}; </script></body></html>